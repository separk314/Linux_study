# 10ì£¼ì°¨ 6ê°•

# ì„œë²„

- ì›¹ ì„œë²„
- DNS ì„œë²„ : Domain Name System
- VPN ì„œë²„
- Was ì„œë²„

## ë¦¬ëˆ…ìŠ¤ ì„œë²„

- ì»´í“¨í„° ì—¬ëŸ¬ ê°œê°€ ê±°ë¯¸ì¤„ì²˜ëŸ¼ ì–½í˜€ìˆë‹¤ >> ë„¤íŠ¸ì›Œí¬
- ë‚´ ì»´í“¨í„°, naver ì»´í“¨í„°, í•™êµ ì»´í“¨í„°, â€¦
    
    ë‚´ê°€ naver ì°¾ìœ¼ëŸ¬ ê°ˆ ë•Œ, í•™êµ í™ˆí˜ì´ì§€ ì°¾ì•„ê°ˆ ë•Œ, ì´ ìœ„ì¹˜ë¥¼ ì°¾ì•„ê°ˆ ë•Œ 
    
    >> ipë¼ëŠ” ê²ƒì„ ì´ìš©í•´ì„œ ì°¾ì•„ê°”ìŒ
    

## DNSì„œë²„

- ipëŠ” ê¸°ì–µí•˜ê³  ìˆê¸° í˜ë“¤ë‹¤. ì˜ˆì‹œ: 165.194.35.5
    
    ê·¸ë ‡ê¸° ë•Œë¬¸ì— ipë¥¼ ë¬¸ìì—´(ë„ë©”ì¸)ë¡œ ë§µí•‘
    
- ipì£¼ì†Œ 125.209.222.152ë¥¼ ë„ë©”ì¸ì£¼ì†Œ naver.comìœ¼ë¡œ ë§µí•‘ ì‹œì¼œì£¼ëŠ” ì• ê°€ DNSì„œë²„
- ì¸í„°ë„· í˜ì´ì§€ì—ì„œ ì–´ë–¤ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ëŠ” í–‰ìœ„:
    
    DNSì„œë²„ì—ê²Œ ì´ ì£¼ì†Œ(ë„ë©”ì¸)ê°€ ì–´ë–¤ ipì— ë§¤í•‘ë˜ëŠ”ì§€ë¥¼ ë¬¼ì–´ë³´ëŠ” ê³¼ì •
    

í˜¸ìŠ¤íŒ… ì¼€ì´ì•Œì—ì„œ ë„ë©”ì¸ êµ¬ì…, ì»´í“¨í„° ì—°ê²° ê¸°ëŠ¥ ì œê³µ >> but ì•½í•¨

ìš°ë¦¬ê°€ ì§ì ‘ ì´ëŸ° DNSì„œë²„ë¥¼ êµ¬ì¶•í•˜ëŠ” ë²•ì„ ë°°ìš¸ ê²ƒì„

>> ë‚˜ë§Œì˜ ë„ë©”ì¸ ì„œë¹„ìŠ¤ ì œê³µ

### DNSì„œë²„ ì¢…ë¥˜

- **Bind9 server**
    
    : DNS serverì˜ í‘œì¤€. 
    
    open source, free software >>ìœ ë‹‰ìŠ¤ ë¦¬ëˆ…ìŠ¤ ë²„ì „ ì§€ì›
    
- **PDNS**
- **DNS mesq**
- â€¦

 ì˜¤í”ˆì†ŒìŠ¤ê°€ ì¢‹ìœ¼ë‹ˆê¹Œ bind9 server ë°°ìš¸ê²ƒì„.

## Bind9 server

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled.png)

naver.comì„ ë°”ë¡œ ì°¾ì„ ìˆ˜ ìˆëŠ”ê²Œ ì•„ë‹ˆê³  naverë”°ë¡œ comë”°ë¡œ

rootì„œë²„ëŠ” ë‹¤ì–‘í•œ ì„œë²„ì˜ ìœ„ì¹˜ë¥¼ ê°€ì§€ê³  ìˆìŒ ( com kr net â€¦ ) (ìµœìƒìœ„ ë„ë©”ì¸)

ë¨¼ì € ì„œë²„ì—ê²Œ comì˜ ì£¼ì†Œ ì•Œë ¤ë‹¬ë¼ê³  í•˜ë©´ rootê°€ comìœ„ì¹˜ë¥¼ ë°˜í™˜ì„ í•´ì¤Œ

ë‹¤ì‹œ comí•œí…Œ ë‹¤ì–‘í•œ DNSì„œë²„ ì¤‘ naverì˜ ì£¼ì†Œë¥¼ ë°˜í™˜í•´ì¤Œ.

<aside>
ğŸ“ **Domain ì°¸ê³ **

[krnic.co.kr](http://krnic.co.kr/) ì´ë¼ëŠ” ë„ë©”ì¸ì—ì„œ

- ìµœìƒìœ„ ë„ë©”ì¸(1ì°¨ ë„ë©”ì¸): kr
- 2ì°¨ ë„ë©”ì¸: co
- 3ì°¨ ë„ë©”ì¸: krnic

[www.naver.com](http://www.naver.com) ì´ë¼ëŠ” ë„ë©”ì¸ì—ì„œ

- com : first level (ìµœìƒìœ„ ë„ë©”ì¸)
- naver : second level
- www : sub domain

ì„œë¸Œ ë„ë©”ì¸ì˜ ì˜ˆì‹œ: ë„¤ì´ë²„

- [http://www.naver.comìœ¼ë¡œ](http://www.naver.xn--com-ky7m580d/) ì ‘ì†í•˜ê±°ë‚˜ [http://naver.comìœ¼ë¡œ](http://naver.xn--com-ky7m580d/) ì ‘ì†í•´ë„ [http://www.naver.comìœ¼ë¡œ](http://www.naver.xn--com-ky7m580d/) ì´ë™í•¨
- ëª¨ë°”ì¼ì€ [http://m.naver.comìœ¼ë¡œ](http://m.naver.xn--com-ky7m580d/) ì´ë™í•¨
- [http://cafe.naver.com](http://cafe.naver.com/)Â [http://blog.naver.com](http://blog.naver.com/) [http://comic.naver.com](http://comic.naver.com)
ë“±ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ê°ê° ë„¤ì´ë²„ ì¹´í˜ë¡œ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ë„¤ì´ë²„ ì›¹íˆ°ìœ¼ë¡œ ì´ë™í•¨
</aside>

1. rootëŠ” ë‹¤ì–‘í•œ DNSì„œë²„ë¥¼, ìµœìƒìœ„ ë„ë©”ì¸ì˜ ìœ„ì¹˜ë¥¼ ê°€ì§€ê³  ìˆìŒ. (com, net, org, kr, â€¦)
2. comìœ„ì¹˜ë¥¼ ë°›ì•„ì„œ comì˜ ìœ„ì¹˜ë¡œ ì™”ìŒ. (com: DNSì„œë²„ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì»´í“¨í„°)
3. comì—ê²Œ naverê°€ ìˆëƒê³  ë¬¼ì–´ë³´ê³  naver ìˆìœ¼ë©´ naverì˜ ìœ„ì¹˜ë¥¼ ì „ë‹¬ë°›ìŒ.
4. naverì—ê²Œ wwwìˆëƒê³  ë¬¼ì–´ë´„. ì´ëŸ°ì‹ìœ¼ë¡œ ì£¼ì†Œ ì°¾ì•„ê°

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%201.png)

- ì„œë¸Œ ë„ë©”ì¸ì´ ë“¤ì–´ê°€ìˆë‹¤ëŠ” ê²ƒì€ ë„¤ì´ë²„ë„ ì´ëŸ° DNSì„œë²„ë¥¼ ë™ì‘ì‹œí‚¤ê³  ìˆë‹¤ëŠ” ëœ»
- rootì—ì„œ comì°¾ê³  comì—ì„œ naverì°¾ê³  naverì—ì„œ wwwì°¾ëŠ” ê²ƒì´
    
    ì´ ëª¨ë“  ê³³(root, com, â€¦) ì— DNSì„œë²„ ë™ì‘í•˜ê³  ìˆë‹¤ëŠ” ëœ».
    

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%202.png)

**Domain server** 

: DNSì„œë²„ë¥¼ ê´€ë¦¬í•˜ëŠ” root, first level, second levelì— ë¶€í•˜ê°€ ê°€ì§€ ì•Šë„ë¡ ì¤‘ê°„ì— ì™„ì¶©ì œ ì—­í• ì„ í•¨.

cachingì„ í•˜ê³ ìˆìŒ.  >> domainì„œë²„ê°€ rootì— ìš”ì²­ì„ í•´ì„œ second levelì—ì„œ naver.comì„ ë°›ì•˜ìœ¼ë©´ ì´ê±¸ ì €ì¥í•´ë†¨ë‹¤ê°€ ëˆ„êµ°ê°€ê°€ ë„¤ì´ë²„ë¥¼ ìš”ì²­ì„ í•˜ë©´ ì—¬ê¸°ì„œ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì¤Œ.

>> ìš°ë¦¬ê°€ í•  ê²ƒ: second levelì— DNSì„œë²„ ì„¤ì¹˜

### ì‹¤ìŠµ

- ê°œì¸ ì‚¬ìš©ììš© >> ubuntu
- ê¸°ì—… >> Red hat : ìœ ë£Œ
    
                  centOS : ë¬´ë£Œ (Red hat ì˜›ë‚ ë²„ì „)   >>  ê¸°ì—…ì—ì„œ centOS ë§ì´ ì”€
    

ìš°ë¦¬ëŠ” ubuntuì—ì„œ DNSì„œë²„ êµ¬ì¶•

1) `sudo apt install bind9` : bind9 ì„¤ì¹˜

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%203.png)

server : í¬íŠ¸ë¥¼ ì ìœ í•˜ëŠ” í”„ë¡œê·¸ë¨

sshì„œë²„ >> 22ë²ˆí¬íŠ¸

DNSì„œë²„ >> 53ë²ˆ í¬íŠ¸

ì„¤ì¹˜í–ˆìœ¼ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë´ì•¼ í•¨. 

í¬íŠ¸ë¥¼ ì ìœ í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ê¸° ë•Œë¬¸ì— ë¦¬ëˆ…ìŠ¤ì—ì„œ 53ë²ˆ í¬íŠ¸ë¥¼ ëˆ„ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ë©´ bind9ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŒ.

2-1) `sudo netstat -lnap` :  í¬íŠ¸, ì†Œì¼“ ì“°ëŠ” ë‹¤ì–‘í•œ í”„ë¡œê·¸ë¨ ë‚˜ì˜´.

netstat(network status) l(listening sockets) n(numeric address) a(all) p(program)

íŒŒì´í”„ë¼ì´ë‹ì„ ì´ìš© 

pipeline : | (\+shift)

ëª…ë ¹ì–´1 | ëª…ë ¹ì–´2

ëª…ë ¹ì–´1ì—ì„œ ë‚˜ì˜¨ outputì´ ëª…ë ¹ì–´2ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

>> ê·¸ë˜ì„œ `sudo netstat -lnap` ì„ í†µí•´ ë‚˜ì˜¨ outputë“¤ì´ grep ëª…ë ¹ì–´ì— ì˜í•´ í•„í„°ë§ ëœë‹¤.

grep [ë‹¨ì–´] [ê²€ìƒ‰í•  íŒŒì¼] : ì—¬ê¸°ì„œ ê²€ìƒ‰í•  íŒŒì¼ ëŒ€ì‹  íŒŒì´í”„ë¼ì¸ì„ ì¨ì„œ ìœ„ì˜ outputì—ì„œ í•´ë‹¹ ë‹¨ì–´ë¥¼ ê²€ì‚¬í•´ë¼

2-2) `sudo netstat -lnap | grep 53` : 53ë²ˆ í¬íŠ¸ë¥¼ ì“°ëŠ”ì§€ ì•Œì•„ë³´ê³  ì‹¶ìœ¼ë‹ˆê¹Œ 

:::53 >> ì–´ëŠ ipì—ì„œë“  53ë²ˆì´ ë“¤ì„ ìˆ˜ ìˆê²Œ listen í•˜ê³  ìˆë‹¤.

namedê°€ ë“£ê³  ìˆë‹¤. (named: bind9ì˜ ë‹¤ë¥¸ì´ë¦„)

53ë²ˆì„ namedê°€ ì“°ê³  ìˆë‹¤ >> ì¦‰, namedëŠ” bind9ì˜ ë‹¤ë¥¸ ì´ë¦„ì´ë‹ˆê¹Œ ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ë‚œ ì™œ ì´ë ‡ê²Œ ë‚˜ì˜¤ëŠ”ì§€? 53 í¬í•¨ëœ ê±´ ì•„ì˜ˆ ë‚˜ì˜¤ì§€ë„ ì•ŠëŠ”ë””

![ë‚œ ì™œ ì´ë ‡ê²Œ ë‚˜ì˜¤ëŠ”ì§€? 53 í¬í•¨ëœ ê±´ ì•„ì˜ˆ ë‚˜ì˜¤ì§€ë„ ì•ŠìŒ.](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%204.png)

ë‚œ ì™œ ì´ë ‡ê²Œ ë‚˜ì˜¤ëŠ”ì§€? 53 í¬í•¨ëœ ê±´ ì•„ì˜ˆ ë‚˜ì˜¤ì§€ë„ ì•ŠìŒ.

### DNS server ì„¤ì • ë°©ë²•

Q. DNSëŠ” ë­˜ ì €ì¥í•˜ê³  ìˆëŠ”ì§€?

A. ë„ë©”ì¸, ip ì˜ ë§¤í•‘ì„ ì €ì¥ 

ã„´ ì´ëŸ°ê±¸ ì €ì¥í•˜ëŠ” DBê°€ì§€ê³  ìˆìŒ. zoneì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆìŒ.

zone ê°™ì€ ì´ëŸ° ì„¤ì • íŒŒì¼ì€ ë‹¤ /etc ë””ë ‰í† ë¦¬ì— ëª¨ì•„ë‘ê³  ìˆìŒ

(`cd /`) / : ë£¨íŠ¸ ë””ë ‰í† ë¦¬ >> ì´ ì•ˆì— bin home etc â€¦ ìˆìŒ.

/etc/bind ë””ë ‰í† ë¦¬ì—

conf (configure ì„¤ì •í•˜ë‹¤) : confë“¤ì–´ê°„ê±° í™•ì¸ >> named.conf

1) named.conf.options

2) `vim named.conf.local`

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%205.png)

DNSì„œë²„ëŠ” ì¤‘ê°„ì— êº¼ì§€ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” DNSì„œë²„ë¥¼ ë‘ ê°œë¥¼ ë‘”ë‹¤.

í•˜ë‚˜(master)ëŠ” ì§„ì§œê³  í•˜ë‚˜(slave)ëŠ” ì§„ì§œì¸ ì• ë¥¼ ë³´ë©´ì„œ ê³„ì† ì—…ë°ì´íŠ¸ í•´ì„œ ë˜‘ê°™ì´ ìœ ì§€í•˜ë©´ì„œ ë§Œì•½ ì§„ì§œê°€ ì£½ì—ˆì„ ë•Œ ë‹¤ë¥¸ í•˜ë‚˜ê°€ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²ƒì„. ë˜ëŠ” ìš”ì²­ì´ ë§ì´ ì™”ì„ ëŒ€ ë¶€í•˜ë¥¼ ë‚˜ëˆ  ê°–ê²Œ ëœë‹¤.

 

zone â€œmoyak.krâ€{

type master;

file â€œ/etc/bind/zones/db.moyak.krâ€;

};

3)

/zone$ `vim [db.moyak.kr](http://db.moyak.kr)`   ì˜ìƒ 42:09

![Untitled](10%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%206%E1%84%80%E1%85%A1%E1%86%BC%2055dbf1fcbc4c4cd4b53a2f5717d6aab6/Untitled%206.png)

;ëŠ” ì£¼ì„

@: moyak.kr

NS: name server 

local host: ë‚˜ì˜ ì»´í“¨í„°

A: address

**ì„œë¸Œë„ë©”ì¸ ì„¤ì •**

[jisu.moyak.kr](http://jisu.moyak.kr) ìœ„ì— ë“±ë¡í•˜ê³  (jisu IN A 8.8.8.8) 

`sudo service bind9 reload`

`ping jisu.moyak.kr`

kr com ë“±ë¡ëŒ€í–‰ì‚¬: ê°€ë¹„ì•„, í˜¸ìŠ¤íŒ…ì¼€ì´ì•Œ

ë„ë©”ì¸ êµ¬ë§¤: 1ë…„ì— 9900ì›

@ 59.17.155.79 ëŠ” ì™¸ë¶€ipì£¼ì†Œ

## ì •ë¦¬

1. ubuntu bind9 ì„¤ì¹˜ `sudo apt install bind9`
2. bind9 ì„¤ì¹˜ í™•ì¸ `sudo netstat -lnap | grep 53`
3. bind9 ì„¤ì • /etc/bind/named.conf 
    
    include íŒŒì¼ë“¤ 
    
    1) option : (ì´ˆì‹¬ìëŠ” ê±´ë“œë¦¬ì§€ ì•Šê¸°)
    
    2) local : (zoneì„ ìƒì„±) >> í˜¸ìŠ¤íŒ…ì¼€ì´ì•Œ, ê°€ë¹„ì•„ì—ì„œ DNS ì£¼ì†Œ êµ¬ë§¤
    
4. zoneì„ ë§Œë“ ë‹¤.
5. zoneì„¤ì •   /zone$ `vim [db.moyak.kr](http://db.moyak.kr)` 
    
    ê°±ì‹ ì£¼ê¸° ~ localhostê¹Œì§€ ë³µë¶™ 
    
    @ IN A ì—ëŠ” ë‚´ ì™¸ë¶€ip 
    
    ê·¸ ì•„ë˜ëŠ” ì„œë¸Œë„ë©”ì¸ë“¤
    
6. bind9 ì„¤ì • reloadí•˜ê¸° (í˜¹ì€ ì»´í“¨í„° ê»ë‹¤ í‚¤ê¸°) `sudo service bind9 reload` , `sudo service bind9 restart`, `sudo reboot`

bind9 >> Linux/Unix

Window server >> ìì²´ DNS toolì„ ì”€ (bind9 ì•ˆì”€)

http://  

https://   

>> sëŠ” secure. ë³´ì•ˆ ì¶”ê°€ë¨ 

í•´ë‹¹ ë„ë©”ì¸ê³¼ ì—°ê²°ëœ ipê°€ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ëœê±´ì§€ë¥¼ ì¸ì¦ì„œë¥¼ í†µí•´ í™•ì¸í•´ì¤Œ